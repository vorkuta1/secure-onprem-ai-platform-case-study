flowchart TB
  %% Simple top-down layout with minimal connections

  Users[ğŸ‘¥ Users<br/>Analysts + Data Scientists]

  subgraph Platform[Platform Ops]
    GitLab[GitLab CI + Registry]
    Portainer[Portainer]
  end

  subgraph Infra[Shared Infrastructure]
    GPU[ğŸ–¥ï¸ H100 GPU]
    Auth[ğŸ” Auth<br/>Local + Keycloak]
  end

  subgraph DEV[DEV Environment]
    DEV_App[Echo UI + API]
    DEV_Queue[Asynq + Workers]
    DEV_AI[Ollama / OCR / Translation]
    DEV_Data[MongoDB + VectorDB + MinIO]
    DEV_Obs[Prometheus + Grafana]
    DEV_JH[JupyterHub]
  end

  subgraph PROD[PROD Environment]
    PROD_App[Echo UI + API]
    PROD_Queue[Asynq + Workers]
    PROD_AI[Ollama / OCR / Translation]
    PROD_Data[MongoDB + VectorDB + MinIO]
    PROD_Obs[Prometheus + Grafana]
    PROD_JH[JupyterHub]
  end

  %% Simple connections
  Users --> PROD_App
  Users --> PROD_JH
  
  GitLab --> Portainer
  Portainer --> DEV
  Portainer --> PROD

  PROD_App --> Auth
  PROD_Queue --> GPU
  PROD_JH --> GPU
  DEV_Queue --> GPU
  DEV_JH --> GPU
